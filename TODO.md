# TODO — Планы по улучшению проекта

## Приоритет: Высокий

### Структура проекта
- [x] Создать папку `src/` и переместить исходники
- [x] Создать папку `ui/` для .ui файлы
- [x] Создать папку `resources/` для .qrc, иконок
- [x] Обновить CMakeLists.txt с новыми путями

### Архитектура — рефакторинг WorkflowManager
- [ ] Выделить `TorrentDownloader` — работа с qBittorrent API
- [ ] Выделить `MkvProcessor` — извлечение/сборка MKV через mkvtoolnix
- [ ] Выделить `Renderer` — рендер MP4 через ffmpeg
- [ ] Переименовать WorkflowManager → `WorkflowOrchestrator`
- [ ] Использовать dependency injection вместо прямых зависимостей

---

## Приоритет: Средний

### Система сборки
- [x] Перейти с qmake на CMake
- [x] Добавить версионирование (CMake version / .pro VERSION)
- [ ] Настроить CMake presets для Debug/Release

### CI/CD
- [ ] Синхронизировать версию Qt в CI (6.7.2 → 6.10.2 или наоборот)
- [x] Добавить clang-tidy в pipeline
- [ ] Добавить автоматические релизы при создании тегов
- [ ] Добавить кэширование зависимостей для ускорения билдов

### Тестирование
- [ ] Настроить Qt Test framework
- [ ] Написать тесты для `AssProcessor` (парсинг/генерация субтитров)
- [ ] Написать тесты для `ReleaseTemplate` (JSON сериализация)
- [ ] Написать тесты для `FontFinder` (парсинг результатов)
- [ ] Добавить запуск тестов в CI

---

## Приоритет: Низкий

### Именование файлов
- [ ] Решить: оставить lowercase или перейти на UpperCamelCase
- [ ] Если переходить — переименовать все файлы и обновить includes

### Качество кода
- [ ] Добавить .clang-format в репозиторий
- [ ] Добавить .clang-tidy в репозиторий
- [ ] Заменить сырые указатели на smart pointers где возможно
- [ ] Создать type-safe обёртки для путей (вместо QString)
- [ ] Вынести `PathManager` в отдельный файл

### Документация
- [ ] Добавить Doxygen комментарии к публичным API
- [ ] Создать CONTRIBUTING.md с гайдом по разработке
- [ ] Добавить CHANGELOG.md

### UX улучшения
- [ ] Добавить тёмную тему
- [ ] Добавить локализацию (i18n)
- [ ] Сохранять размер и позицию окна между сессиями

---

## Идеи на будущее
- [ ] Поддержка других торрент-клиентов (Transmission, Deluge)
- [ ] Поддержка Linux/macOS
- [ ] Плагинная система для кастомных шагов workflow
- [ ] Интеграция с видеохостингами (автозагрузка)
